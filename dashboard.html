<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุงูุชุญูู - ูุณุงุนุฏ ุงูุทุงูุจ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chart.js and Fuse.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
    <link href="css/style.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2563eb; 
        }
        .bg-primary { background-color: var(--primary-color); }
        .text-primary { color: var(--primary-color); }
        .border-primary { border-color: var(--primary-color); }
        .ring-primary { --tw-ring-color: var(--primary-color); }
        .focus\:ring-primary:focus { --tw-ring-color: var(--primary-color); }
        .focus\:border-primary:focus { border-color: var(--primary-color); }
        .hover\:bg-primary-dark:hover { background-color: color-mix(in srgb, var(--primary-color) 85%, black); }
        
        .admin-tab-active {
            font-weight: 500;
        }
        /* Custom toggle switch style */
        .toggle-checkbox:checked + .toggle-label .toggle-dot {
            transform: translateX(100%);
            background-color: white;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: var(--primary-color);
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 flex flex-col min-h-screen" data-theme="light">
    <div id="dashboardApp" class="flex h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-white shadow-md fixed h-full overflow-y-auto transition-transform duration-300 ease-in-out rtl:-translate-x-full sm:rtl:translate-x-0 print:hidden z-50">
            <div class="p-4 border-b border-gray-200 flex items-center space-x-3 space-x-reverse">
                <a href="index.html" class="flex items-center space-x-2 space-x-reverse cursor-pointer">
                    <div class="w-10 h-10 bg-primary rounded-full flex items-center justify-center text-white font-bold text-xl dashboard-logo-container">
                        ๐ 
                    </div>
                </a>
                <div>
                    <h2 class="font-bold site-title-nav">ููุญุฉ ุงูุชุญูู</h2> 
                    <p class="text-xs text-gray-500 dashboard-subtitle">ูุณุงุนุฏ ุงูุทุงูุจ</p> 
                </div>
            </div>
            
            <nav class="p-2 mt-4">
                <div class="space-y-1">
                    <a href="#generalSettings" data-tab="generalSettings" class="admin-tab flex items-center px-3 py-2 text-sm font-medium rounded-lg hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" /></svg>
                        ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ
                    </a>
                     <a href="#appearanceSettings" data-tab="appearanceSettings" class="admin-tab flex items-center px-3 py-2 text-sm font-medium rounded-lg hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>
                        ุฅุนุฏุงุฏุงุช ุงููุธูุฑ
                    </a>
                    <a href="#userManagement" data-tab="userManagement" class="admin-tab flex items-center px-3 py-2 text-sm font-medium rounded-lg hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v1h8v-1zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-1a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v1h-3zM4.75 12.094A5.973 5.973 0 004 15v1H1v-1a3 3 0 013.75-2.906z" /></svg>
                        ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
                    </a>
                    <a href="#contentManagement" data-tab="contentManagement" class="admin-tab flex items-center px-3 py-2 text-sm font-medium rounded-lg hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z" /></svg>
                        ุงููุญุชูู ุงูุฃูุงุฏููู
                    </a>
                    <a href="#questionManagement" data-tab="questionManagement" class="admin-tab flex items-center px-3 py-2 text-sm font-medium rounded-lg hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" /></svg>
                        ุฅุฏุงุฑุฉ ุงูุฃุณุฆูุฉ
                    </a>
                    <a href="#questionSearchSettings" data-tab="questionSearchSettings" class="admin-tab flex items-center px-3 py-2 text-sm font-medium rounded-lg hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" /></svg>
                        ุฅุนุฏุงุฏุงุช ุจุญุซ ุงูุฃุณุฆูุฉ
                    </a>
                    <a href="#questionStatistics" data-tab="questionStatistics" class="admin-tab flex items-center px-3 py-2 text-sm font-medium rounded-lg hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" /></svg>
                        ุฅุญุตุงุฆูุงุช ุงูุฃุณุฆูุฉ
                    </a>
                    <a href="#advancedFeatures" data-tab="advancedFeatures" class="admin-tab flex items-center px-3 py-2 text-sm font-medium rounded-lg hover:bg-gray-100 text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                        ุงูููุฒุงุช ุงููุชูุฏูุฉ
                    </a>
                </div>
            </nav>
            
            <div class="absolute bottom-0 w-full p-4 border-t border-gray-200">
                <button id="logoutBtn" class="w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-red-600 hover:bg-red-100 dark:hover:bg-red-700 dark:text-red-300 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd" /></svg>
                    ุชุณุฌูู ุงูุฎุฑูุฌ
                </button>
            </div>
        </aside>
        
        <!-- Main Content Area -->
         <div class="flex-1 sm:mr-64 transition-all duration-300 ease-in-out"> 
            <!-- Admin Header -->
            <header class="bg-white shadow-sm sticky top-0 z-40 print:hidden">
                 <div class="px-6 py-3 flex justify-between items-center">
                    <div class="flex items-center">
                        <button id="sidebarToggleBtn" class="sm:hidden p-2 rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary">
                            <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                            </svg>
                        </button>
                        <h1 class="text-xl font-bold text-gray-900 mr-3" id="adminTabTitle">ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ</h1>
                    </div>
                    <div class="flex items-center space-x-4 space-x-reverse">
                        <button id="toggleDarkModeBtnDashboard" class="p-2 rounded-full hover:bg-gray-100">
                            <svg id="darkModeIconDashboard" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
                            <svg id="lightModeIconDashboard" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-600 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
                        </button>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm font-semibold" id="adminAvatar">
                                <!-- Initial of admin name -->
                            </div>
                            <span class="font-medium" id="currentAdminName">ุงููุดุฑู</span>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Admin Tab Content Area -->
            <main id="adminDashboardContent" class="p-6 bg-gray-100 flex-grow">
                <!-- General Settings Tab Content -->
                <div id="generalSettingsTabContent" class="admin-tab-content">
                    <div class="bg-white shadow rounded-lg p-6 mb-6">
                        <h2 class="text-lg font-bold mb-4">ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ ูููููุน</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="settingsSiteName" class="block text-sm font-medium text-gray-700 mb-1">ุงุณู ุงููููุน ุงูุนุงู (ูุธูุฑ ูู ุนููุงู ุงูุตูุญุฉ)</label>
                                <input type="text" id="settingsSiteName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                            </div>
                            <div>
                                <label for="settingsHomePageTitle" class="block text-sm font-medium text-gray-700 mb-1">ุนููุงู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (ุงููุต ุงููุจูุฑ ูู ุงูุชุฑููุณุฉ)</label>
                                <input type="text" id="settingsHomePageTitle" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                            </div>
                        </div>
                    </div>
                    <div class="bg-white shadow rounded-lg p-6 mb-6">
                        <h2 class="text-lg font-bold mb-4">ุงููุต ูุงููุญุชูู</h2>
                        <div class="space-y-4">
                            <div>
                                <label for="settingsWelcomeMessage" class="block text-sm font-medium text-gray-700 mb-1">ูุต ุงูุชุฑุญูุจ ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</label>
                                <textarea id="settingsWelcomeMessage" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" rows="3"></textarea>
                            </div>
                            <div>
                                <label for="settingsFooterText" class="block text-sm font-medium text-gray-700 mb-1">ุชุฐููู ุงูุตูุญุฉ (ุณูุชู ุงุณุชุจุฏุงู ุงูุณูุฉ ุชููุงุฆููุง)</label>
                                <input type="text" id="settingsFooterText" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                            </div>
                        </div>
                    </div>
                    <div class="mt-6 flex justify-end">
                        <button id="saveGeneralSettingsBtn" class="bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium transition">
                            ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ
                        </button>
                    </div>
                </div>
                
                <!-- Appearance Settings Tab Content -->
                <div id="appearanceSettingsTabContent" class="admin-tab-content hidden">
                    <div class="bg-white shadow rounded-lg p-6 mb-6">
                        <h2 class="text-lg font-bold mb-4">ุฅุนุฏุงุฏุงุช ุงูุดุนุงุฑ ูุงูุฎูููุฉ</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">ุดุนุงุฑ ุงููููุน (ููุดุฑูุท ุงูุนููู)</label>
                                <div class="flex items-center space-x-4 space-x-reverse">
                                    <div class="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-300">
                                        <img id="appearanceLogoPreview" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiMxZTQwOGYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0ibHVjaWRlIGx1Y2lkZS1ncmFkdWF0aW9uIj48cGF0aCBkPSJNMjIgMTJhMTAgMTAgMCAxIDEtMjAgMCAxMCAxMCAwIDAgMSAyMCAwWiIvPjxwYXRoIGQ9Ik0xNSA5LjItMTAgMTkiLz48cGF0aCBkPSJtOSAyIDcgNCIvPjwvc3ZnPg==" alt="Logo Preview" class="max-w-full max-h-full object-contain">
                                    </div>
                                    <div>
                                        <label for="appearanceLogoUpload" class="cursor-pointer bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg text-sm font-medium transition">
                                            ุชุญููู ุดุนุงุฑ ุฌุฏูุฏ
                                            <input type="file" id="appearanceLogoUpload" class="hidden" accept="image/*">
                                        </label>
                                        <button id="removeAppearanceLogoBtn" class="mt-2 text-sm text-red-600 hover:text-red-800">ุฅุฒุงูุฉ ุงูุดุนุงุฑ</button>
                                    </div>
                                </div>
                                <p class="mt-1 text-xs text-gray-500">ูุณุชุญุณู: PNG ุจุฎูููุฉ ุดูุงูุฉ, ูุฑุจุน.</p>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">ุตูุฑุฉ ุฎูููุฉ ูููููุน (ุงุฎุชูุงุฑู)</label>
                                 <div class="flex items-center space-x-4 space-x-reverse">
                                    <div class="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-300">
                                        <img id="appearanceBgPreview" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="Background Preview" class="max-w-full max-h-full object-cover">
                                    </div>
                                    <div>
                                        <label for="appearanceBgUpload" class="cursor-pointer bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg text-sm font-medium transition">
                                            ุชุญููู ุตูุฑุฉ ุฎูููุฉ
                                            <input type="file" id="appearanceBgUpload" class="hidden" accept="image/*">
                                        </label>
                                        <button id="removeAppearanceBgBtn" class="mt-2 text-sm text-red-600 hover:text-red-800">ุฅุฒุงูุฉ ุงูุฎูููุฉ</button>
                                    </div>
                                </div>
                                 <p class="mt-1 text-xs text-gray-500">ุณุชุธูุฑ ูุฐู ุงูุตูุฑุฉ ูุฎูููุฉ ููุงูู ุงููููุน.</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white shadow rounded-lg p-6 mb-6">
                        <h2 class="text-lg font-bold mb-4">ุงูุฃููุงู ูุงูุฎุทูุท</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div>
                                <label for="appearancePrimaryColor" class="block text-sm font-medium text-gray-700 mb-1">ุงูููู ุงูุฑุฆูุณู</label>
                                <input type="color" id="appearancePrimaryColor" class="w-full h-10 px-1 py-1 border border-gray-300 rounded-lg cursor-pointer">
                            </div>
                            <div>
                                <label for="appearanceNavbarColor" class="block text-sm font-medium text-gray-700 mb-1">ููู ุงูุดุฑูุท ุงูุนููู</label>
                                <input type="color" id="appearanceNavbarColor" class="w-full h-10 px-1 py-1 border border-gray-300 rounded-lg cursor-pointer">
                            </div>
                            <div>
                                <label for="appearanceFontFamily" class="block text-sm font-medium text-gray-700 mb-1">ุนุงุฆูุฉ ุงูุฎุท</label>
                                <select id="appearanceFontFamily" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                    <option value="'Tajawal', sans-serif">Tajawal (ุนุฑุจู)</option>
                                    <option value="'Cairo', sans-serif">Cairo (ุนุฑุจู)</option>
                                    <option value="'Noto Sans Arabic', sans-serif">Noto Sans Arabic (ุนุฑุจู)</option>
                                    <option value="'Arial', sans-serif">Arial (ุฅูุฌููุฒู)</option>
                                    <option value="'Verdana', sans-serif">Verdana (ุฅูุฌููุฒู)</option>
                                    <option value="'Times New Roman', serif">Times New Roman (ุฅูุฌููุฒู)</option>
                                    <option value="'Segoe UI', sans-serif">Segoe UI (ุฅูุฌููุฒู)</option>
                                </select>
                            </div>
                            <div>
                                <label for="appearanceBaseFontSize" class="block text-sm font-medium text-gray-700 mb-1">ุญุฌู ุงูุฎุท ุงูุฃุณุงุณู</label>
                                <select id="appearanceBaseFontSize" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                    <option value="small">ุตุบูุฑ</option>
                                    <option value="medium">ูุชูุณุท</option>
                                    <option value="large">ูุจูุฑ</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white shadow rounded-lg p-6">
                        <h2 class="text-lg font-bold mb-4">ุฅุนุฏุงุฏุงุช ุงูุนุฑุถ ุงูุฅุถุงููุฉ</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label for="appearanceStudentViewStyle" class="block text-sm font-medium text-gray-700 mb-1">ููุท ุนุฑุถ ูุงุฌูุฉ ุงูุทุงูุจ</label>
                                <select id="appearanceStudentViewStyle" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                    <option value="simple">ูุงุฌูุฉ ุจุณูุทุฉ</option>
                                    <option value="modern">ูุงุฌูุฉ ุญุฏูุซุฉ (ุชุตููู ูุฎุชูู)</option>
                                </select>
                            </div>
                            <div>
                                <label for="appearanceThemeMode" class="block text-sm font-medium text-gray-700 mb-1">ูุถุน ุงูุชุตููู ุงูุงูุชุฑุงุถู</label>
                                <select id="appearanceThemeMode" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                    <option value="light">ูุงุชุญ</option>
                                    <option value="dark">ุฏุงูู</option>
                                    <option value="auto">ุชููุงุฆู (ุญุณุจ ุงููุธุงู)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="mt-6 flex justify-end">
                        <button id="saveAppearanceSettingsBtn" class="bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium transition">
                            ุญูุธ ุฅุนุฏุงุฏุงุช ุงููุธูุฑ
                        </button>
                    </div>
                </div>

                <!-- User Management Tab Content -->
                <div id="userManagementTabContent" class="admin-tab-content hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-xl font-bold">ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</h2> 
                        <button id="addNewUserBtn" class="bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg text-sm font-medium transition">
                            + ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ
                        </button>
                    </div>
                    <div class="bg-white shadow rounded-lg overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50 dark:bg-gray-700">
                                <tr>
                                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุงุณู</th>
                                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงุณู ุงููุณุชุฎุฏู</th>
                                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุฏูุฑ</th>
                                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุขุฎุฑ ุชุณุฌูู ุฏุฎูู</th>
                                    <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุฅุฌุฑุงุกุงุช</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody" class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700">
                                 <tr><td colspan="5" class="text-center p-4 text-gray-500 dark:text-gray-400">ุฌุงุฑู ุชุญููู ุงููุณุชุฎุฏููู...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Content Management Tab Content -->
                <div id="contentManagementTabContent" class="admin-tab-content hidden">
                    <div class="bg-white shadow rounded-lg p-6 mb-6">
                        <h2 class="text-xl font-bold mb-4">ุฅุฏุงุฑุฉ ุงููุญุชูู ุงูุฃูุงุฏููู</h2>
                        
                        <div class="border-b border-gray-200 dark:border-gray-700">
                            <nav class="-mb-px flex space-x-6 space-x-reverse" aria-label="Tabs">
                                <button data-content-tab="terms" class="content-tab-button whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm border-primary text-primary">
                                    ุงููุตูู ุงูุฏุฑุงุณูุฉ
                                </button>
                                <button data-content-tab="grades" class="content-tab-button whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500">
                                    ุงูุตููู ุงูุฏุฑุงุณูุฉ
                                </button>
                                <button data-content-tab="subjects" class="content-tab-button whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500">
                                    ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ
                                </button>
                                <button data-content-tab="units" class="content-tab-button whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500">
                                    ุงููุญุฏุงุช ุงูุฏุฑุงุณูุฉ
                                </button>
                            </nav>
                        </div>
                        
                        <!-- Terms Sub-Tab -->
                        <div id="termsContent" class="content-sub-tab-content mt-6">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-lg font-medium text-gray-900 dark:text-gray-100">ุงููุตูู ุงูุฏุฑุงุณูุฉ</h3>
                                <button id="addTermBtn" class="bg-primary hover:bg-primary-dark text-white px-3 py-1.5 rounded-lg text-xs font-medium transition">
                                    + ุฅุถุงูุฉ ูุตู ุฏุฑุงุณู
                                </button>
                            </div>
                            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
                                    <thead class="bg-gray-100 dark:bg-gray-600">
                                        <tr>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุงุณู</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูููุฏ</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุญุงูุฉ</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุฅุฌุฑุงุกุงุช</th>
                                        </tr>
                                    </thead>
                                    <tbody id="termsTableBody" class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-600">
                                        <tr><td colspan="4" class="text-center p-4 text-gray-500 dark:text-gray-400">ุฌุงุฑู ุงูุชุญููู...</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Grades Sub-Tab -->
                        <div id="gradesContent" class="content-sub-tab-content hidden mt-6">
                             <div class="flex justify-between items-center mb-4">
                                <h3 class="text-lg font-medium text-gray-900 dark:text-gray-100">ุงูุตููู ุงูุฏุฑุงุณูุฉ</h3>
                                <button id="addGradeBtn" class="bg-primary hover:bg-primary-dark text-white px-3 py-1.5 rounded-lg text-xs font-medium transition">
                                    + ุฅุถุงูุฉ ุตู ุฏุฑุงุณู
                                </button>
                            </div>
                            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
                                    <thead class="bg-gray-100 dark:bg-gray-600">
                                        <tr>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุงุณู</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูููุฏ</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุญุงูุฉ</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุฅุฌุฑุงุกุงุช</th>
                                        </tr>
                                    </thead>
                                    <tbody id="gradesTableBody" class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-600">
                                         <tr><td colspan="4" class="text-center p-4 text-gray-500 dark:text-gray-400">ุฌุงุฑู ุงูุชุญููู...</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Subjects Sub-Tab -->
                        <div id="subjectsContent" class="content-sub-tab-content hidden mt-6">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-lg font-medium text-gray-900 dark:text-gray-100">ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ</h3>
                                <button id="addSubjectBtn" class="bg-primary hover:bg-primary-dark text-white px-3 py-1.5 rounded-lg text-xs font-medium transition">
                                    + ุฅุถุงูุฉ ูุงุฏุฉ ุฏุฑุงุณูุฉ
                                </button>
                            </div>
                            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
                                    <thead class="bg-gray-100 dark:bg-gray-600">
                                        <tr>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุงุณู</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูููุฏ</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุญุงูุฉ</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุฅุฌุฑุงุกุงุช</th>
                                        </tr>
                                    </thead>
                                    <tbody id="subjectsTableBody" class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-600">
                                        <tr><td colspan="4" class="text-center p-4 text-gray-500 dark:text-gray-400">ุฌุงุฑู ุงูุชุญููู...</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Units Sub-Tab -->
                        <div id="unitsContent" class="content-sub-tab-content hidden mt-6">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-lg font-medium text-gray-900 dark:text-gray-100">ุงููุญุฏุงุช ุงูุฏุฑุงุณูุฉ</h3>
                                <button id="addUnitBtn" class="bg-primary hover:bg-primary-dark text-white px-3 py-1.5 rounded-lg text-xs font-medium transition">
                                    + ุฅุถุงูุฉ ูุญุฏุฉ ุฏุฑุงุณูุฉ
                                </button>
                            </div>
                            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
                                    <thead class="bg-gray-100 dark:bg-gray-600">
                                        <tr>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงุณู ุงููุญุฏุฉ</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงููุงุฏุฉ</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ููุฏ ุงููุญุฏุฉ</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุญุงูุฉ</th>
                                            <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุฅุฌุฑุงุกุงุช</th>
                                        </tr>
                                    </thead>
                                    <tbody id="unitsTableBody" class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-600">
                                        <tr><td colspan="5" class="text-center p-4 text-gray-500 dark:text-gray-400">ุฌุงุฑู ุงูุชุญููู...</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Question Management Tab Content -->
                <div id="questionManagementTabContent" class="admin-tab-content hidden">
                    <div class="bg-white shadow rounded-lg p-6 mb-6">
                        <h2 class="text-xl font-bold mb-4">ุฅุฏุงุฑุฉ ุงูุฃุณุฆูุฉ</h2>
                        <div class="border-b border-gray-200 dark:border-gray-700">
                            <nav class="-mb-px flex space-x-6 space-x-reverse" aria-label="Tabs">
                                <button data-question-tab="upload" class="question-tab-button whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm border-primary text-primary">
                                    ุฑูุน ููู ุงูุฃุณุฆูุฉ
                                </button>
                                <button data-question-tab="manage" class="question-tab-button whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-200 dark:hover:border-gray-500">
                                    ุฅุฏุงุฑุฉ ุงูุฃุณุฆูุฉ ุงูููุฌูุฏุฉ
                                </button>
                            </nav>
                        </div>

                        <!-- Upload Questions Sub-Tab -->
                        <div id="uploadTabContent" class="question-sub-tab-content mt-6">
                            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-6 space-y-4">
                                <div>
                                    <h3 class="text-lg font-medium mb-2 text-gray-900 dark:text-gray-100">ุฑูุน ููู JSON ููุฃุณุฆูุฉ</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">ุงุฑูุน ููู JSON ูุญุชูู ุนูู ุงูุฃุณุฆูุฉ ูุงูุฅุฌุงุจุงุช. ุชุฃูุฏ ูู ุฃู ุงูููู ูุชุจุน ุงูุจููุฉ ุงููุทููุจุฉ (ูุซู ุงูุญููู: question_original, answer_detailed, term_code, grade_code, subject_code, page_number, unit_name, keywords).</p>
                                    
                                    <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center mb-4">
                                        <div class="flex justify-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-400 dark:text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" /></svg>
                                        </div>
                                        <h4 class="mt-2 font-medium text-gray-900 dark:text-gray-100">ุงุณุญุจ ูุฃููุช ุงูููู ููุง ุฃู</h4>
                                        <label for="questionFileUpload" class="cursor-pointer mt-2 inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-500 shadow-sm text-sm font-medium rounded-lg text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 hover:bg-gray-50 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                                            ุงุฎุชุฑ ููู
                                            <input type="file" id="questionFileUpload" accept=".json" class="hidden">
                                        </label>
                                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">JSON ููุท (ุงูุญุฏ ุงูุฃูุตู ููุญุฌู ูุนุชูุฏ ุนูู ุงููุชุตูุญ)</p>
                                    </div>
                                    
                                    <div id="uploadProgress" class="hidden">
                                        <div class="flex justify-between mb-1">
                                            <span class="text-sm font-medium text-gray-700 dark:text-gray-200">ุฌุงุฑู ุงูุฑูุน...</span>
                                            <span id="uploadProgressValue" class="text-sm font-medium text-gray-700 dark:text-gray-200">0%</span>
                                        </div>
                                        <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5">
                                            <div id="uploadProgressBar" class="bg-primary h-2.5 rounded-full" style="width: 0%"></div>
                                        </div>
                                    </div>
                                    
                                    <div id="uploadPreview" class="hidden mt-6">
                                        <h4 class="font-medium mb-2 text-gray-900 dark:text-gray-100">ูุนุงููุฉ ุฃูู 5 ุฃุณุฆูุฉ:</h4>
                                        <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg p-4">
                                            <pre id="previewQuestions" class="text-xs overflow-auto max-h-60"></pre>
                                        </div>
                                        <div class="mt-4 flex justify-end space-x-3 space-x-reverse">
                                            <button id="cancelUploadBtn" class="bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg font-medium transition">ุฅูุบุงุก</button>
                                            <button id="confirmUploadBtn" class="bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium transition">ุชุฃููุฏ ุงูุฑูุน ูุฅุถุงูุฉ ุงูุฃุณุฆูุฉ</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Manage Questions Sub-Tab -->
                        <div id="manageTabContent" class="question-sub-tab-content hidden mt-6">
                            <div class="flex flex-col sm:flex-row justify-between items-center mb-4 gap-4">
                                <div class="relative flex-grow w-full sm:w-auto">
                                    <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 dark:text-gray-500" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" /></svg>
                                    </div>
                                    <input type="text" id="questionSearchInput" class="w-full pl-3 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" placeholder="ุงุจุญุซ ูู ุงูุฃุณุฆูุฉ...">
                                </div>
                                <div class="flex space-x-2 space-x-reverse">
                                    <button id="exportQuestionsBtn" class="bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-3 py-2 rounded-lg text-sm font-medium transition">ุชุตุฏูุฑ ุงููู JSON</button>
                                    <button id="deleteAllQuestionsBtn" class="bg-red-100 dark:bg-red-700 hover:bg-red-200 dark:hover:bg-red-600 text-red-800 dark:text-red-200 px-3 py-2 rounded-lg text-sm font-medium transition">ุญุฐู ุฌููุน ุงูุฃุณุฆูุฉ</button>
                                </div>
                            </div>
                            <div class="bg-gray-50 dark:bg-gray-700 rounded-lg overflow-x-auto">
                                <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
                                    <thead class="bg-gray-100 dark:bg-gray-600">
                                        <tr>
                                            <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุณุคุงู</th>
                                            <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงููุงุฏุฉ</th>
                                            <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุตู</th>
                                            <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุฅุฌุฑุงุกุงุช</th>
                                        </tr>
                                    </thead>
                                    <tbody id="questionsTableBody" class="bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-600">
                                        <tr><td colspan="4" class="text-center p-4 text-gray-500 dark:text-gray-400">ุฌุงุฑู ุชุญููู ุงูุฃุณุฆูุฉ...</td></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div id="paginationContainer" class="mt-4 flex flex-col sm:flex-row justify-between items-center space-y-2 sm:space-y-0">
                                <p id="paginationInfo" class="text-sm text-gray-700 dark:text-gray-300">ุฅุธูุงุฑ 0 ุฅูู 0 ูู 0 ุณุคุงู</p>
                                <div class="flex space-x-1 space-x-reverse">
                                    <button id="prevPageBtn" disabled class="px-3 py-1 border border-gray-300 dark:border-gray-500 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 hover:bg-gray-50 dark:hover:bg-gray-500 disabled:opacity-50">ุงูุณุงุจู</button>
                                    <button id="nextPageBtn" disabled class="px-3 py-1 border border-gray-300 dark:border-gray-500 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-600 hover:bg-gray-50 dark:hover:bg-gray-500 disabled:opacity-50">ุงูุชุงูู</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Question Search Settings Tab Content -->
                <div id="questionSearchSettingsTabContent" class="admin-tab-content hidden">
                    <div class="bg-white shadow rounded-lg p-6">
                        <h2 class="text-xl font-bold mb-6">ุฅุนุฏุงุฏุงุช ุจุญุซ ุงูุฃุณุฆูุฉ (ููุงุฌูุฉ ุงูุทุงูุจ)</h2>
                        <div class="space-y-6">
                             <div class="flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <label for="enableFuzzySearchGlobal" class="block text-sm font-medium text-gray-700 dark:text-gray-200">ุชูุนูู ุงูุจุญุซ ุงููุฑู (Fuzzy Search)</label>
                                <input type="checkbox" id="enableFuzzySearchGlobal" class="toggle-checkbox sr-only">
                                <label for="enableFuzzySearchGlobal" class="toggle-label relative w-11 h-6 bg-gray-200 dark:bg-gray-600 rounded-full cursor-pointer transition-colors ease-in-out duration-200">
                                    <span class="toggle-dot absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform ease-in-out duration-200"></span>
                                </label>
                            </div>
                            <div>
                                <label for="fuzzySearchThresholdGlobal" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุนุชุจุฉ ุญุณุงุณูุฉ ุงูุจุญุซ ุงููุฑู (0.0 - 1.0ุ ุงูุฃูู ุฃูุซุฑ ุชุณุงููุงู)</label>
                                <input type="number" id="fuzzySearchThresholdGlobal" min="0.1" max="0.9" step="0.1" class="w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ 0.5. ููู ุฃูู (ูุซู 0.3) ุณุชุนุฑุถ ูุชุงุฆุฌ ุฃูุซุฑ ูููู ุฃูู ุฏูุฉ.</p>
                            </div>
                            <hr class="dark:border-gray-600">
                            <div class="flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <label for="enableKeywordSearchGlobal" class="block text-sm font-medium text-gray-700 dark:text-gray-200">ุชูุนูู ุงูุจุญุซ ุจุงููููุงุช ุงูููุชุงุญูุฉ</label>
                                 <input type="checkbox" id="enableKeywordSearchGlobal" class="toggle-checkbox sr-only">
                                <label for="enableKeywordSearchGlobal" class="toggle-label relative w-11 h-6 bg-gray-200 dark:bg-gray-600 rounded-full cursor-pointer transition-colors ease-in-out duration-200">
                                    <span class="toggle-dot absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform ease-in-out duration-200"></span>
                                </label>
                            </div>
                            <div>
                                <label for="minKeywordMatchGlobal" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงูุญุฏ ุงูุฃุฏูู ูุนุฏุฏ ุงููููุงุช ุงูููุชุงุญูุฉ ุงููุชุทุงุจูุฉ</label>
                                <input type="number" id="minKeywordMatchGlobal" min="1" max="5" step="1" class="w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">ุนุฏุฏ ุงููููุงุช ูู ุณุคุงู ุงูุทุงูุจ ุงูุชู ูุฌุจ ุฃู ุชุชุทุงุจู ูุน ูููุงุช ููุชุงุญูุฉ ููุณุคุงู ูู ุงููุธุงู. ุงูุงูุชุฑุงุถู 2.</p>
                            </div>
                            <hr class="dark:border-gray-600">
                             <div class="flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                                <label for="enableDirectMatchFallbackGlobal" class="block text-sm font-medium text-gray-700 dark:text-gray-200">ุชูุนูู ุงูุจุญุซ ุงููุจุงุดุฑ (ูุญู ุฃุฎูุฑ)</label>
                                <input type="checkbox" id="enableDirectMatchFallbackGlobal" class="toggle-checkbox sr-only">
                                <label for="enableDirectMatchFallbackGlobal" class="toggle-label relative w-11 h-6 bg-gray-200 dark:bg-gray-600 rounded-full cursor-pointer transition-colors ease-in-out duration-200">
                                    <span class="toggle-dot absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform ease-in-out duration-200"></span>
                                </label>
                            </div>
                            <hr class="dark:border-gray-600">
                            <div>
                                <label for="studentResultsCountGlobal" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุนุฏุฏ ุงููุชุงุฆุฌ ุงูููุชุฑุญุฉ ููุทุงูุจ (ุฅุฐุง ูุฌุฏ ุฃูุซุฑ ูู ุชุทุงุจู)</label>
                                <input type="number" id="studentResultsCountGlobal" min="1" max="10" step="1" class="w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">ุงูุงูุชุฑุงุถู 5. (ูุฐู ุงูููุฒุฉ ูู ุชุทุจู ุจุงููุงูู ูู ููุทู ุจุญุซ ุงูุทุงูุจ ุจุนุฏ).</p>
                            </div>
                        </div>
                         <div class="mt-8 flex justify-end">
                            <button id="saveQuestionSearchSettingsBtn" class="bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium transition">
                                ุญูุธ ุฅุนุฏุงุฏุงุช ุงูุจุญุซ
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Question Statistics Tab Content -->
                <div id="questionStatisticsTabContent" class="admin-tab-content hidden">
                    <div class="bg-white shadow rounded-lg p-6 mb-6">
                        <h2 class="text-xl font-bold mb-6">ุฅุญุตุงุฆูุงุช ุงูุฃุณุฆูุฉ</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                            <div class="bg-blue-50 dark:bg-blue-800 p-4 rounded-lg border border-blue-200 dark:border-blue-700">
                                <p class="text-sm text-blue-600 dark:text-blue-300">ุฅุฌูุงูู ุงูุฃุณุฆูุฉ</p>
                                <h3 id="statsTotalQuestionsCount" class="text-2xl font-bold text-blue-800 dark:text-blue-100">0</h3>
                            </div>
                            <div class="bg-green-50 dark:bg-green-800 p-4 rounded-lg border border-green-200 dark:border-green-700">
                                <p class="text-sm text-green-600 dark:text-green-300">ุฃุณุฆูุฉ ุจูููุงุช ููุชุงุญูุฉ</p>
                                <h3 id="statsKeywordQuestionsCount" class="text-2xl font-bold text-green-800 dark:text-green-100">0</h3>
                            </div>
                            <div class="bg-yellow-50 dark:bg-yellow-800 p-4 rounded-lg border border-yellow-200 dark:border-yellow-700">
                                <p class="text-sm text-yellow-600 dark:text-yellow-300">ุฃุณุฆูุฉ ุชู ุทุฑุญูุง (ุฃูุซุฑ ูู ูุฑุฉ)</p>
                                <h3 id="statsCommonQuestionsCount" class="text-2xl font-bold text-yellow-800 dark:text-yellow-100">0</h3>
                            </div>
                            <div class="bg-red-50 dark:bg-red-800 p-4 rounded-lg border border-red-200 dark:border-red-700">
                                <p class="text-sm text-red-600 dark:text-red-300">ุฃุณุฆูุฉ ูู ูุชู ุทุฑุญูุง</p>
                                <h3 id="statsUnansweredQuestionsCount" class="text-2xl font-bold text-red-800 dark:text-red-100">0</h3>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="bg-white dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                                <h3 class="font-medium mb-4 text-gray-900 dark:text-gray-100">ุชูุฒูุน ุงูุฃุณุฆูุฉ ุญุณุจ ุงููุงุฏุฉ</h3>
                                <div class="h-64"><canvas id="questionsBySubjectChart"></canvas></div>
                            </div>
                            <div class="bg-white dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                                <h3 class="font-medium mb-4 text-gray-900 dark:text-gray-100">ุชูุฒูุน ุงูุฃุณุฆูุฉ ุญุณุจ ุงูุตู</h3>
                                <div class="h-64"><canvas id="questionsByGradeChart"></canvas></div>
                            </div>
                            <div class="bg-white dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600 lg:col-span-2">
                                <h3 class="font-medium mb-4 text-gray-900 dark:text-gray-100">ุฃูุซุฑ ุงููููุงุช ุงูููุชุงุญูุฉ ุงุณุชุฎุฏุงููุง (ุฃุนูู 10)</h3>
                                <div class="h-72"><canvas id="topKeywordsChart"></canvas></div>
                            </div>
                            <div class="bg-white dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600 lg:col-span-2">
                                <h3 class="font-medium mb-4 text-gray-900 dark:text-gray-100">ุฃูุซุฑ ุงูุฃุณุฆูุฉ ุชูุฑุงุฑูุง (ุฃุนูู 10)</h3>
                                <div class="h-72 overflow-y-auto">
                                    <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-600">
                                        <thead class="bg-gray-50 dark:bg-gray-600 sticky top-0">
                                            <tr>
                                                <th scope="col" class="px-4 py-2 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุงูุณุคุงู (ููุชุทู)</th>
                                                <th scope="col" class="px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">ุนุฏุฏ ุงููุฑุงุช</th>
                                            </tr>
                                        </thead>
                                        <tbody id="commonQuestionsTableBody" class="bg-white divide-y divide-gray-200 dark:bg-gray-700 dark:divide-gray-600">
                                            <!-- Populated by JS -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 bg-white dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                            <h3 class="font-medium mb-4 text-gray-900 dark:text-gray-100">ุชุตุฏูุฑ ุชูุฑูุฑ ุงูุฅุญุตุงุฆูุงุช</h3>
                            <div class="flex space-x-3 space-x-reverse mb-4">
                                <button id="exportStatsCSV" class="bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg text-sm font-medium transition">ุชุตุฏูุฑ CSV</button>
                                <button id="exportStatsJSON" class="bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg text-sm font-medium transition">ุชุตุฏูุฑ JSON</button>
                                <!-- PDF export might be too complex for client-side only without a large library -->
                            </div>
                            <h4 class="font-medium text-sm mb-2 text-gray-800 dark:text-gray-200">ูุนุงููุฉ ุงูุชูุฑูุฑ ุงููุตู:</h4>
                            <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-4">
                                <pre id="statsFullReportPreview" class="text-xs overflow-auto max-h-60 whitespace-pre-wrap"></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Features Tab Content -->
                <div id="advancedFeaturesTabContent" class="admin-tab-content hidden">
                    <div class="bg-white shadow rounded-lg p-6 mb-6">
                        <h2 class="text-xl font-bold mb-6">ุงูููุฒุงุช ุงููุชูุฏูุฉ ูุฅุฏุงุฑุฉ ุงูุจูุงูุงุช</h2>
                        <div class="space-y-8">
                            <!-- Developer Mode -->
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <h3 class="font-medium mb-3 text-gray-900 dark:text-gray-100">ูุถุน ุงููุทูุฑ</h3>
                                <div class="flex items-center justify-between">
                                    <p class="text-sm text-gray-600 dark:text-gray-300">ุชูุนูู ูุถุน ุงููุทูุฑ ูุณูุญ ุจุงุฎุชุจุงุฑ ููุฒุงุช ุชุฌุฑูุจูุฉ ููุนุฑุถ ูุนูููุงุช ุฅุถุงููุฉ ูุชุตุญูุญ ุงูุฃุฎุทุงุก ูู ูุญุฏุฉ ุงูุชุญูู.</p>
                                    <input type="checkbox" id="advEnableDevMode" class="toggle-checkbox sr-only">
                                    <label for="advEnableDevMode" class="toggle-label relative w-11 h-6 bg-gray-200 dark:bg-gray-600 rounded-full cursor-pointer transition-colors ease-in-out duration-200">
                                        <span class="toggle-dot absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform ease-in-out duration-200"></span>
                                    </label>
                                </div>
                            </div>

                            <!-- Smart Search Tools (moved to Question Search Settings tab, but kept structure for reference) -->
                            <!-- <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <h3 class="font-medium mb-3 text-gray-900 dark:text-gray-100">ุฃุฏูุงุช ุงูุจุญุซ ุงูุฐูู (ููุทูุงุจ)</h3>
                                <div class="space-y-4">
                                     <div class="flex items-center justify-between">
                                        <label for="advFuzzySearchThreshold" class="block text-sm font-medium text-gray-700 dark:text-gray-300">ุญุณุงุณูุฉ ุงูุจุญุซ ุงููุฑู (0.1 - 0.9)</label>
                                        <input type="number" id="advFuzzySearchThreshold" min="0.1" max="0.9" step="0.1" class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary w-32">
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <label for="advMinKeywordMatch" class="block text-sm font-medium text-gray-700 dark:text-gray-300">ุงูุญุฏ ุงูุฃุฏูู ููุทุงุจูุฉ ุงููููุงุช ุงูููุชุงุญูุฉ</label>
                                        <input type="number" id="advMinKeywordMatch" min="1" max="5" step="1" class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary w-32">
                                    </div>
                                    <button id="advTestSearchBtn" class="bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg text-sm font-medium transition">ุงุฎุชุจุงุฑ ุฅุนุฏุงุฏุงุช ุงูุจุญุซ</button>
                                </div>
                            </div> -->

                            <!-- Data Cleaning -->
                            <div class="border border-red-300 dark:border-red-700 rounded-lg p-4">
                                <h3 class="font-medium mb-3 text-red-700 dark:text-red-300">ุชูุธูู ุงูุจูุงูุงุช (ุนูููุงุช ุฎุทูุฑุฉ)</h3>
                                <div class="space-y-4">
                                    <div class="flex items-center justify-between">
                                        <p class="text-sm text-gray-600 dark:text-gray-300">ุญุฐู ุฌููุน ุฅุญุตุงุฆูุงุช ุงุณุชุฎุฏุงู ุงูุฃุณุฆูุฉ.</p>
                                        <button id="advClearStatsDataBtn" class="bg-red-100 dark:bg-red-800 hover:bg-red-200 dark:hover:bg-red-700 text-red-800 dark:text-red-200 px-4 py-2 rounded-lg text-sm font-medium transition">ุญุฐู ุงูุฅุญุตุงุฆูุงุช</button>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <p class="text-sm text-gray-600 dark:text-gray-300">ุฅุนุงุฏุฉ ุถุจุท ุฌููุน ุจูุงูุงุช ูุฅุนุฏุงุฏุงุช ุงููููุน ุฅูู ุงููุถุน ุงูุงูุชุฑุงุถู (ูุง ูููู ุงูุชุฑุงุฌุน!).</p>
                                        <button id="advResetAllDataBtn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition">ุฅุนุงุฏุฉ ุถุจุท ูุงููุฉ ูููููุน</button>
                                    </div>
                                     <p class="text-xs text-gray-500 dark:text-gray-400 mt-2">ููุงุญุธุฉ: ุญุฐู ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ ("advClearTestDataBtn") ูู ูุชู ุชุญุฏูุฏ ูุธููุชู ุจุนุฏ.</p>
                                     <button id="advClearTestDataBtn" class="hidden bg-yellow-100 hover:bg-yellow-200 text-yellow-800 px-4 py-2 rounded-lg text-sm font-medium transition">ุญุฐู ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ (ุบูุฑ ููุนู)</button>
                                </div>
                            </div>

                            <!-- Import/Export Data -->
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <h3 class="font-medium mb-3 text-gray-900 dark:text-gray-100">ุงุณุชูุฑุงุฏ / ุชุตุฏูุฑ ุฌููุน ุจูุงูุงุช ุงููููุน</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <button id="advExportAllDataBtn" class="w-full bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                                            ุชุตุฏูุฑ ูู ุงูุจูุงูุงุช (JSON)
                                        </button>
                                    </div>
                                    <div>
                                        <label for="advImportAllDataInput" class="w-full bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center cursor-pointer">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.5 2A2.5 2.5 0 002 4.5v11A2.5 2.5 0 004.5 18h11a2.5 2.5 0 002.5-2.5V8.836a2.502 2.502 0 00-.732-1.768l-3.086-3.086A2.502 2.502 0 0012.164 2H4.5zm5.56 8.03a.75.75 0 00-1.06-1.06L6.75 11.19V6.75a.75.75 0 00-1.5 0v4.44L2.97 8.97a.75.75 0 10-1.06 1.06l3.25 3.25a.75.75 0 001.06 0l4.8-4.8zM13 2.75A1.25 1.25 0 0011.75 4H7.5a.75.75 0 000 1.5h3.579l-2.22 2.22a.75.75 0 001.06 1.06L13 6.56V10a.75.75 0 001.5 0V4.75A1.25 1.25 0 0013 3.5V2.75z" clip-rule="evenodd" /></svg>
                                            ุงุณุชูุฑุงุฏ ุจูุงูุงุช ูู ููู (JSON)
                                            <input type="file" id="advImportAllDataInput" accept=".json" class="hidden">
                                        </label>
                                    </div>
                                </div>
                                <div id="advBackupProgress" class="hidden mt-4 space-y-2">
                                    <div class="flex justify-between text-sm">
                                        <span id="advBackupStatus" class="text-gray-700 dark:text-gray-200">ุฌุงุฑู ุงูุงุณุชุนุฏุงุฏ...</span>
                                    </div>
                                    <div class="w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5">
                                        <div id="advBackupProgressBar" class="bg-primary h-2.5 rounded-full transition-all duration-300 ease-linear" style="width: 0%"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Notification Settings -->
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <h3 class="font-medium mb-3 text-gray-900 dark:text-gray-100">ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช (ุชุฌุฑูุจูุฉ)</h3>
                                <div class="space-y-4">
                                    <div class="flex items-center justify-between">
                                        <label for="advEnableEmailNotifications" class="block text-sm font-medium text-gray-700 dark:text-gray-200">ุชูุนูู ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ูุญุงูุงุฉ)</label>
                                        <input type="checkbox" id="advEnableEmailNotifications" class="toggle-checkbox sr-only">
                                        <label for="advEnableEmailNotifications" class="toggle-label relative w-11 h-6 bg-gray-200 dark:bg-gray-600 rounded-full cursor-pointer transition-colors ease-in-out duration-200">
                                            <span class="toggle-dot absolute left-1 top-1 w-4 h-4 bg-white rounded-full transition-transform ease-in-out duration-200"></span>
                                        </label>
                                    </div>
                                    <div>
                                        <label for="advNotificationEmail" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุชููู ุงูุฅุดุนุงุฑุงุช</label>
                                        <input type="email" id="advNotificationEmail" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" placeholder="admin@example.com">
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <label for="advNotificationFrequency" class="block text-sm font-medium text-gray-700 dark:text-gray-300">ุชูุงุชุฑ ุงูุฅุดุนุงุฑุงุช</label>
                                        <select id="advNotificationFrequency" class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary w-full md:w-1/3">
                                            <option value="daily">ูููููุง</option>
                                            <option value="weekly" selected>ุฃุณุจูุนููุง</option>
                                            <option value="monthly">ุดูุฑููุง</option>
                                        </select>
                                    </div>
                                    <button id="advTestNotificationBtn" class="bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-lg text-sm font-medium transition">ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุฅุดุนุงุฑ</button>
                                </div>
                            </div>

                            <!-- System Information -->
                            <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                                <h3 class="font-medium mb-3 text-gray-900 dark:text-gray-100">ูุนูููุงุช ุงููุธุงู</h3>
                                <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-4">
                                    <pre id="advSystemInfo" class="text-xs overflow-auto max-h-60 whitespace-pre-wrap">ุฌุงุฑู ุชุญููู ูุนูููุงุช ุงููุธุงู...</pre>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-end">
                            <button id="saveAdvancedSettingsBtn" class="bg-primary hover:bg-primary-dark text-white px-6 py-3 rounded-lg font-medium transition">
                                ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ
                            </button>
                        </div>
                    </div>
                </div>

            </main>
        </div>
    </div>

    <!-- Modals (User Management modals are separate for clarity) -->
    <!-- Add User Modal -->
    <div id="addUserModal" class="fixed inset-0 z-[60] hidden flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 ease-in-out opacity-0">
        <div class="bg-white dark:bg-gray-700 rounded-lg shadow-xl p-6 w-full max-w-md mx-4 transform transition-all duration-300 ease-in-out scale-95 opacity-0">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100">ุฅุถุงูุฉ ูุณุชุฎุฏู ุฌุฏูุฏ</h3>
                <button id="closeAddUserModalBtn" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <form id="addUserForm" class="space-y-4">
                <div>
                    <label for="newUserName" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงูุงุณู ุงููุงูู</label>
                    <input type="text" id="newUserName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" required>
                </div>
                <div>
                    <label for="newUserUsername" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงุณู ุงููุณุชุฎุฏู</label>
                    <input type="text" id="newUserUsername" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" required>
                </div>
                <div>
                    <label for="newUserPassword" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ูููุฉ ุงููุฑูุฑ</label>
                    <input type="password" id="newUserPassword" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" required>
                </div>
                <div>
                    <label for="newUserRole" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงูุฏูุฑ</label>
                    <select id="newUserRole" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <option value="admin">ูุฏูุฑ</option>
                        <option value="editor" selected>ูุญุฑุฑ</option>
                        <option value="viewer">ุนุฑุถ ููุท</option>
                    </select>
                </div>
                <div class="flex justify-end space-x-3 space-x-reverse pt-2">
                    <button type="button" id="cancelAddUserBtn" class="bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg font-medium transition">ุฅูุบุงุก</button>
                    <button type="submit" class="bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium transition">ุญูุธ ุงููุณุชุฎุฏู</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Edit User Modal -->
    <div id="editUserModal" class="fixed inset-0 z-[60] hidden flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 ease-in-out opacity-0">
        <div class="bg-white dark:bg-gray-700 rounded-lg shadow-xl p-6 w-full max-w-md mx-4 transform transition-all duration-300 ease-in-out scale-95 opacity-0">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100">ุชุนุฏูู ุงููุณุชุฎุฏู</h3>
                <button id="closeEditUserModalBtn" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <form id="editUserForm" class="space-y-4">
                <input type="hidden" id="editUserId">
                <div>
                    <label for="editUserName" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงูุงุณู ุงููุงูู</label>
                    <input type="text" id="editUserName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" required>
                </div>
                <div>
                    <label for="editUserUsername" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงุณู ุงููุณุชุฎุฏู</label>
                    <input type="text" id="editUserUsername" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" required>
                </div>
                <div>
                    <label for="editUserPassword" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ (ุงุชุฑููุง ูุงุฑุบุฉ ุฅุฐุง ูู ุชุฑุฏ ุงูุชุบููุฑ)</label>
                    <input type="password" id="editUserPassword" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                </div>
                <div>
                    <label for="editUserRole" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงูุฏูุฑ</label>
                    <select id="editUserRole" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <option value="admin">ูุฏูุฑ</option>
                        <option value="editor">ูุญุฑุฑ</option>
                        <option value="viewer">ุนุฑุถ ููุท</option>
                    </select>
                </div>
                <div class="flex justify-end space-x-3 space-x-reverse pt-2">
                    <button type="button" id="cancelEditUserBtn" class="bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg font-medium transition">ุฅูุบุงุก</button>
                    <button type="submit" class="bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium transition">ุญูุธ ุงูุชุนุฏููุงุช</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Content Item Modal (for Terms, Grades, Subjects, Units) -->
    <div id="contentItemModal" class="fixed inset-0 z-[60] hidden flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 ease-in-out opacity-0">
        <div class="bg-white dark:bg-gray-700 rounded-lg shadow-xl p-6 w-full max-w-md mx-4 transform transition-all duration-300 ease-in-out scale-95 opacity-0">
            <div class="flex justify-between items-center mb-4">
                <h3 id="contentItemModalTitle" class="text-lg font-bold text-gray-900 dark:text-gray-100">ุฅุถุงูุฉ / ุชุนุฏูู ุนูุตุฑ</h3>
                <button id="closeContentItemModalBtn" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <form id="contentItemForm" class="space-y-4">
                <input type="hidden" id="contentItemId">
                <input type="hidden" id="contentItemType">
                <div>
                    <label for="contentItemName" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงูุงุณู</label>
                    <input type="text" id="contentItemName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" required>
                </div>
                <div>
                    <label for="contentItemCode" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงูููุฏ (ูุนุฑู ูุฑูุฏ)</label>
                    <input type="text" id="contentItemCode" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" required>
                    <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">ูุฌุจ ุฃู ูููู ูุฑูุฏูุง. ูุซุงู: term1, g1, math, unit1_math.</p>
                </div>
                <div id="contentItemSubjectSelectDiv" class="hidden">
                    <label for="contentItemSubjectId" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงููุงุฏุฉ ุงูุฃุตู (ูููุญุฏุงุช ููุท)</label>
                    <select id="contentItemSubjectId" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                        <!-- Options populated by JS -->
                    </select>
                </div>
                <div class="flex items-center">
                    <input type="checkbox" id="contentItemActive" checked class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded">
                    <label for="contentItemActive" class="ml-2 mr-2 block text-sm text-gray-900 dark:text-gray-200">ูุดุท (ูุชุงุญ ููุงุณุชุฎุฏุงู)</label>
                </div>
                <div class="flex justify-end space-x-3 space-x-reverse pt-2">
                    <button type="button" id="cancelContentItemBtn" class="bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg font-medium transition">ุฅูุบุงุก</button>
                    <button type="submit" class="bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium transition">ุญูุธ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Question Details/Edit Modal -->
    <div id="questionDetailsModal" class="fixed inset-0 z-[60] hidden flex items-center justify-center bg-black bg-opacity-75 transition-opacity duration-300 ease-in-out opacity-0">
        <div class="bg-white dark:bg-gray-700 rounded-lg shadow-xl p-6 w-full max-w-3xl mx-4 max-h-[90vh] overflow-y-auto transform transition-all duration-300 ease-in-out scale-95 opacity-0">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100">ุชูุงุตูู ูุชุนุฏูู ุงูุณุคุงู</h3>
                <button id="closeQuestionDetailsModal" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <form id="editQuestionForm" class="space-y-4">
                <input type="hidden" id="editQuestionId">
                <div>
                    <label for="editQuestionText" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ูุต ุงูุณุคุงู ุงูุฃุตูู</label>
                    <textarea id="editQuestionText" rows="2" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" required></textarea>
                </div>
                <div>
                    <label for="editQuestionNormalized" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงููุต ุงููุนูุงุฑู ููุณุคุงู (ููุจุญุซ)</label>
                    <textarea id="editQuestionNormalized" rows="2" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"></textarea>
                </div>
                <div>
                    <label for="editQuestionAnswer" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงูุฅุฌุงุจุฉ ุงูุชูุตูููุฉ</label>
                    <textarea id="editQuestionAnswer" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" required></textarea>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div>
                        <label for="editQuestionTerm" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงููุตู ุงูุฏุฑุงุณู</label>
                        <select id="editQuestionTerm" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"></select>
                    </div>
                    <div>
                        <label for="editQuestionGrade" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงูุตู</label>
                        <select id="editQuestionGrade" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"></select>
                    </div>
                    <div>
                        <label for="editQuestionSubject" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงููุงุฏุฉ</label>
                        <select id="editQuestionSubject" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"></select>
                    </div>
                    <div>
                        <label for="editQuestionUnit" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงููุญุฏุฉ</label>
                        <select id="editQuestionUnit" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary"></select>
                    </div>
                     <div>
                        <label for="editQuestionPage" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุฑูู ุงูุตูุญุฉ</label>
                        <input type="text" id="editQuestionPage" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary">
                    </div>
                </div>
                <div>
                    <label for="editQuestionKeywords" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">ุงููููุงุช ุงูููุชุงุญูุฉ (ููุตููุฉ ุจูุงุตูุฉ)</label>
                    <input type="text" id="editQuestionKeywords" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary" placeholder="ูููุฉ1, ูููุฉ2, ูููุฉ3">
                </div>
                <div class="flex justify-end space-x-3 space-x-reverse pt-2">
                    <button type="button" id="cancelEditQuestion" class="bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg font-medium transition">ุฅูุบุงุก</button>
                    <button type="submit" class="bg-primary hover:bg-primary-dark text-white px-6 py-2 rounded-lg font-medium transition">ุญูุธ ุงูุชุนุฏููุงุช</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Confirm Delete All Questions Modal -->
    <div id="confirmDeleteAllModal" class="fixed inset-0 z-[60] hidden flex items-center justify-center bg-black bg-opacity-75 transition-opacity duration-300 ease-in-out opacity-0">
        <div class="bg-white dark:bg-gray-700 rounded-lg shadow-xl p-6 w-full max-w-md mx-4 transform transition-all duration-300 ease-in-out scale-95 opacity-0">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100">ุชุฃููุฏ ุญุฐู ุฌููุน ุงูุฃุณุฆูุฉ</h3>
                <button id="closeDeleteAllModalBtn" class="text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <p class="mb-6 text-gray-600 dark:text-gray-300">ูู ุฃูุช ูุชุฃูุฏ ุฃูู ุชุฑูุฏ ุญุฐู ุฌููุน ุงูุฃุณุฆูุฉุ ูุง ูููู ุงูุชุฑุงุฌุน ุนู ูุฐุง ุงูุฅุฌุฑุงุก.</p>
            <div class="flex justify-end space-x-3 space-x-reverse">
                <button id="cancelDeleteAll" class="bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg font-medium transition">ุฅูุบุงุก</button>
                <button id="confirmDeleteAll" class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium transition">ุชุฃููุฏ ุงูุญุฐู</button>
            </div>
        </div>
    </div>


    <script src="js/data_storage.js"></script>
    <script src="js/ui_common.js"></script>
    <script src="js/charts.js"></script> 
    <script src="js/dashboard_app.js"></script>
    <script src="js/dashboard_settings.js"></script>
    <script src="js/dashboard_users.js"></script>
    <script src="js/dashboard_content.js"></script> 
    <script src="js/dashboard_questions.js"></script> 
    <script src="js/dashboard_stats.js"></script> 
    <script src="js/dashboard_advanced.js"></script> 
</body>
</html>